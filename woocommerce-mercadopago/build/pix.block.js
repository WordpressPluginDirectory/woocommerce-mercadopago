(()=>{"use strict";var e={20:(e,t,s)=>{var n=s(609),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,s){var n,o={},l=null,p=null;for(n in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(p=t.ref),t)r.call(t,n)&&!a.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:p,props:o,_owner:c.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,n=window.wc.wcBlocksRegistry,i=window.wp.htmlEntities,o=window.wc.wcSettings,r="mercadopago_blocks_update_cart";var c=function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}(848);const a=({title:e,description:t,linkText:s,linkSrc:n})=>(0,c.jsx)("div",{className:"mp-test-mode-container",children:(0,c.jsx)("test-mode",{title:e,description:t,"link-text":s,"link-src":n})}),l=({title:e,subtitle:t,alt:s,linkSrc:n})=>(0,c.jsx)("pix-template",{title:e,subtitle:t,alt:s,src:n}),p=({description:e,linkText:t,linkSrc:s,checkoutClass:n="pro"})=>(0,c.jsx)("div",{className:`mp-checkout-${n}-terms-and-conditions`,children:(0,c.jsx)("terms-and-conditions",{description:e,"link-text":t,"link-src":s})}),d=({text:e,imgSrc:t,id:s})=>(0,c.jsxs)("div",{id:s,className:"row-image-select",children:[(0,c.jsx)("img",{src:t}),(0,c.jsx)("p",{children:e})]});var m;const _="mp_checkout_blocks",u="woo-mercado-pago-pix",x=(0,o.getSetting)("woo-mercado-pago-pix_data",{}),k=(0,i.decodeEntities)(x.title)||"Checkout Pix",S=()=>{const e=(0,i.decodeEntities)(x?.params?.fee_title||""),t=`${k} ${e}`;return(0,c.jsx)(d,{text:t,imgSrc:x.params.icon})},g=e=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:n,emitResponse:i}=e,{onPaymentSetup:o,onCheckoutSuccess:c,onCheckoutFail:a}=n;(0,s.useEffect)((()=>{((e,t)=>{e({namespace:r,data:{action:"add",gateway:t}})})(t,u);const e=o((()=>({type:i.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:r,data:{action:"remove",gateway:t}})})(t,u),e())}),[o]),(0,s.useEffect)((()=>{const e=c((async e=>{e.processingResponse.message=u;const t=e.processingResponse;return sendMetric("MP_PIX_BLOCKS_SUCCESS",t.paymentStatus,_),{type:i.responseTypes.SUCCESS}}));return()=>e()}),[c]),(0,s.useEffect)((()=>{const e=a((e=>{const t=e.processingResponse;return sendMetric("MP_PIX_BLOCKS_ERROR",t.paymentStatus,_),{type:i.responseTypes.FAIL,messageContext:i.noticeContexts.PAYMENTS,message:t.paymentDetails.message}}));return()=>e()}),[a])})(e);const{test_mode_title:t,test_mode_description:n,pix_template_title:i,pix_template_subtitle:o,pix_template_src:d,pix_template_alt:m,terms_and_conditions_description:k,terms_and_conditions_link_text:S,terms_and_conditions_link_src:g,test_mode:y,amount:w,message_error_amount:f}=x.params;return null==w?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("p",{className:"alert-message",children:f})}):(0,c.jsxs)("div",{className:"mp-checkout-container",children:[(0,c.jsx)("div",{className:"mp-checkout-pix-container",children:(0,c.jsxs)("div",{className:"mp-checkout-pix-content",children:[y?(0,c.jsx)(a,{title:t,description:n}):null,(0,c.jsx)(l,{title:i,subtitle:o,alt:m,linkSrc:d})]})}),(0,c.jsx)(p,{description:k,linkText:S,linkSrc:g,checkoutClass:"pix"})]})},y={name:u,label:(0,c.jsx)(S,{}),content:(0,c.jsx)(g,{}),edit:(0,c.jsx)(g,{}),canMakePayment:()=>!0,ariaLabel:k,supports:{features:null!==(m=x?.supports)&&void 0!==m?m:[]}};(0,n.registerPaymentMethod)(y)})();