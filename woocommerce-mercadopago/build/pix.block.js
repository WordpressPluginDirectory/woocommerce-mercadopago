(()=>{"use strict";var e={20:(e,t,s)=>{var n=s(609),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,s){var n,i={},l=null,p=null;for(n in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(p=t.ref),t)r.call(t,n)&&!a.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:p,props:i,_owner:c.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,n=window.wc.wcBlocksRegistry,o=window.wp.htmlEntities,i=window.wc.wcSettings,r="mercadopago_blocks_update_cart";var c=function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}(848);const a=({title:e,description:t,linkText:s,linkSrc:n})=>(0,c.jsx)("div",{className:"mp-test-mode-container",children:(0,c.jsx)("test-mode",{title:e,description:t,"link-text":s,"link-src":n})}),l=({title:e,subtitle:t,alt:s,linkSrc:n})=>(0,c.jsx)("pix-template",{title:e,subtitle:t,alt:s,src:n}),p=({description:e,linkText:t,linkSrc:s,checkoutClass:n="pro"})=>(0,c.jsx)("div",{className:`mp-checkout-${n}-terms-and-conditions`,children:(0,c.jsx)("terms-and-conditions",{description:e,"link-text":t,"link-src":s})});var d;const m="mp_checkout_blocks",_="woo-mercado-pago-pix",u=(0,i.getSetting)("woo-mercado-pago-pix_data",{}),x=(0,o.decodeEntities)(u.title)||"Checkout Pix",k=e=>{const{PaymentMethodLabel:t}=e.components,s=(0,o.decodeEntities)(u?.params?.fee_title||""),n=`${x} ${s}`;return(0,c.jsx)(t,{text:n})},y=e=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:n,emitResponse:o}=e,{onPaymentSetup:i,onCheckoutSuccess:c,onCheckoutFail:a}=n;(0,s.useEffect)((()=>{((e,t)=>{e({namespace:r,data:{action:"add",gateway:t}})})(t,_);const e=i((()=>({type:o.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:r,data:{action:"remove",gateway:t}})})(t,_),e())}),[i]),(0,s.useEffect)((()=>{const e=c((async e=>{e.processingResponse.message=_;const t=e.processingResponse;return sendMetric("MP_PIX_BLOCKS_SUCCESS",t.paymentStatus,m),{type:o.responseTypes.SUCCESS}}));return()=>e()}),[c]),(0,s.useEffect)((()=>{const e=a((e=>{const t=e.processingResponse;return sendMetric("MP_PIX_BLOCKS_ERROR",t.paymentStatus,m),{type:o.responseTypes.FAIL,messageContext:o.noticeContexts.PAYMENTS,message:t.paymentDetails.message}}));return()=>e()}),[a])})(e);const{test_mode_title:t,test_mode_description:n,pix_template_title:o,pix_template_subtitle:i,pix_template_src:d,pix_template_alt:x,terms_and_conditions_description:k,terms_and_conditions_link_text:y,terms_and_conditions_link_src:S,test_mode:f,amount:w,message_error_amount:g}=u.params;return null==w?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("p",{className:"alert-message",children:g})}):(0,c.jsxs)("div",{className:"mp-checkout-container",children:[(0,c.jsx)("div",{className:"mp-checkout-pix-container",children:(0,c.jsxs)("div",{className:"mp-checkout-pix-content",children:[f?(0,c.jsx)(a,{title:t,description:n}):null,(0,c.jsx)(l,{title:o,subtitle:i,alt:x,linkSrc:d})]})}),(0,c.jsx)(p,{description:k,linkText:y,linkSrc:S,checkoutClass:"pix"})]})},S={name:_,label:(0,c.jsx)(k,{}),content:(0,c.jsx)(y,{}),edit:(0,c.jsx)(y,{}),canMakePayment:()=>!0,ariaLabel:x,supports:{features:null!==(d=u?.supports)&&void 0!==d?d:[]}};(0,n.registerPaymentMethod)(S)})();