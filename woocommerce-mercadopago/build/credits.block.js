(()=>{"use strict";const e=window.React,t=window.wp.element,c=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,s=window.wc.wcSettings,i="mercadopago_blocks_update_cart",o=({title:t,description:c,linkText:n,linkSrc:s})=>(0,e.createElement)("div",{className:"mp-checkout-pro-test-mode"},(0,e.createElement)("test-mode",{title:t,description:c,"link-text":n,"link-src":s})),a=({title:t,description:c,src:n,alt:s})=>(0,e.createElement)("checkout-redirect-v3",{title:t,description:c,src:n,alt:s}),r=({title:t,items:c,titleAlign:n="left"})=>(0,e.createElement)("checkout-benefits-list",{title:t,"title-align":n,items:c}),l=({description:t,linkText:c,linkSrc:n,checkoutClass:s="pro"})=>(0,e.createElement)("div",{className:`mp-checkout-${s}-terms-and-conditions`},(0,e.createElement)("terms-and-conditions",{description:t,"link-text":c,"link-src":n})),m=({text:t,imgSrc:c})=>(0,e.createElement)("div",{style:{height:"18px",display:"flex",justifyContent:"space-between",alignContent:"center",alignItems:"center",flexDirection:"row"}},(0,e.createElement)("img",{style:{marginRight:"8px",height:"25px",width:"30px",padding:0},src:c}),(0,e.createElement)("p",{style:{fontFamily:'"Proxima Nova", -apple-system, "Helvetica Neue", Helvetica, "Roboto", Arial, sans-serif',fontSize:"18px",padding:0}},t)),d=(e,t,c)=>{const n={name:e,message:t,target:c,plugin:{version:wc_mercadopago_custom_checkout_params.plugin_version},platform:{name:"woocommerce",uri:window.location.href,version:wc_mercadopago_custom_checkout_params.platform_version,location:`${wc_mercadopago_custom_checkout_params.location}_${wc_mercadopago_custom_checkout_params.theme}`}};navigator.sendBeacon("https://api.mercadopago.com/v1/plugins/melidata/errors",JSON.stringify(n))};var p;const _="mp_checkout_blocks",u="woo-mercado-pago-credits",k=(0,s.getSetting)("woo-mercado-pago-credits_data",{}),g=(0,n.decodeEntities)(k.title)||"Checkout Credits",h=c=>{(e=>{const{extensionCartUpdate:c}=wc.blocksCheckout,{eventRegistration:n,emitResponse:s}=e,{onPaymentSetup:o,onCheckoutSuccess:a,onCheckoutFail:r}=n;(0,t.useEffect)((()=>{((e,t)=>{e({namespace:i,data:{action:"add",gateway:t}})})(c,u);const e=o((()=>({type:s.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:i,data:{action:"remove",gateway:t}})})(c,u),e())}),[o]),(0,t.useEffect)((()=>{const e=a((async e=>{const t=e.processingResponse;return d("MP_CREDITS_BLOCKS_SUCCESS",t.paymentStatus,_),{type:s.responseTypes.SUCCESS}}));return()=>e()}),[a]),(0,t.useEffect)((()=>{const e=r((e=>{const t=e.processingResponse;return d("MP_CREDITS_BLOCKS_ERROR",t.paymentStatus,_),{type:s.responseTypes.FAIL,messageContext:s.noticeContexts.PAYMENTS}}));return()=>e()}),[r])})(c);const{test_mode_title:n,test_mode_description:s,test_mode_link_text:m,test_mode_link_src:p,checkout_benefits_title:g,checkout_benefits_items:h,checkout_redirect_title:E,checkout_redirect_description:w,checkout_redirect_src:S,checkout_redirect_alt:f,terms_and_conditions_description:y,terms_and_conditions_link_text:v,terms_and_conditions_link_src:x,test_mode:C,amount:R,message_error_amount:b}=k.params;return null==R?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{className:"alert-message"},b)):(0,e.createElement)("div",{className:"mp-checkout-container"},(0,e.createElement)("div",{className:"mp-checkout-credits-container"},(0,e.createElement)("div",{className:"mp-checkout-credits-content"},C?(0,e.createElement)(o,{title:n,description:s,linkText:m,linkSrc:p}):null,(0,e.createElement)("div",{class:"mp-credits-checkout-benefits"},(0,e.createElement)(r,{title:g,items:h,titleAlign:"left"})),(0,e.createElement)("div",{class:"mp-checkout-credits-redirect"},(0,e.createElement)(a,{title:E,description:w,src:S,alt:f})))),(0,e.createElement)(l,{description:y,linkText:v,linkSrc:x}))},E={name:u,label:(0,e.createElement)((()=>{const t=(0,n.decodeEntities)(k?.params?.fee_title||""),c=`${g} ${t}`;return(0,e.createElement)(m,{text:c,imgSrc:k.params.checkout_blocks_row_image_src})}),null),content:(0,e.createElement)(h,null),edit:(0,e.createElement)(h,null),canMakePayment:()=>!0,ariaLabel:g,supports:{features:null!==(p=k?.supports)&&void 0!==p?p:[]}};(0,c.registerPaymentMethod)(E)})();