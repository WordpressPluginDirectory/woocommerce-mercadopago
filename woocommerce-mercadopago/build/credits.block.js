(()=>{"use strict";var e={20:(e,t,s)=>{var c=s(609),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,s){var c,r={},l=null,d=null;for(c in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,c)&&!a.hasOwnProperty(c)&&(r[c]=t[c]);if(e&&e.defaultProps)for(c in t=e.defaultProps)void 0===r[c]&&(r[c]=t[c]);return{$$typeof:i,type:e,key:l,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,c=window.wc.wcBlocksRegistry,i=window.wp.htmlEntities,r=window.wc.wcSettings,n="mercadopago_blocks_update_cart";var o=function s(c){var i=t[c];if(void 0!==i)return i.exports;var r=t[c]={exports:{}};return e[c](r,r.exports,s),r.exports}(848);const a=({title:e,description:t,linkText:s,linkSrc:c})=>(0,o.jsx)("div",{className:"mp-test-mode-container",children:(0,o.jsx)("test-mode",{title:e,description:t,"link-text":s,"link-src":c})}),l=({title:e,description:t,src:s,alt:c})=>(0,o.jsx)("checkout-redirect-v3",{title:e,description:t,src:s,alt:c}),d=({title:e,items:t,titleAlign:s="left"})=>(0,o.jsx)("checkout-benefits-list",{title:e,"title-align":s,items:t}),p=({description:e,linkText:t,linkSrc:s,checkoutClass:c="pro"})=>(0,o.jsx)("div",{className:`mp-checkout-${c}-terms-and-conditions`,children:(0,o.jsx)("terms-and-conditions",{description:e,"link-text":t,"link-src":s})}),_=({text:e,imgSrc:t,id:s})=>(0,o.jsxs)("div",{id:s,className:"row-image-select",children:[(0,o.jsx)("img",{src:t}),(0,o.jsx)("p",{children:e})]});var m;const u="mp_checkout_blocks",k="woo-mercado-pago-credits",x=(0,r.getSetting)("woo-mercado-pago-credits_data",{}),h=(0,i.decodeEntities)(x.title)||"Checkout Credits",f=()=>{const e=(0,i.decodeEntities)(x?.params?.fee_title||""),t=`${h} ${e}`;return(0,o.jsx)(_,{text:t,imgSrc:x.params.checkout_blocks_row_image_src})},S=e=>{(e=>{const{extensionCartUpdate:t}=wc.blocksCheckout,{eventRegistration:c,emitResponse:i}=e,{onPaymentSetup:r,onCheckoutSuccess:o,onCheckoutFail:a}=c;(0,s.useEffect)((()=>{((e,t)=>{e({namespace:n,data:{action:"add",gateway:t}})})(t,k);const e=r((()=>({type:i.responseTypes.SUCCESS})));return()=>(((e,t)=>{e({namespace:n,data:{action:"remove",gateway:t}})})(t,k),e())}),[r]),(0,s.useEffect)((()=>{const e=o((async e=>{const t=e.processingResponse;return sendMetric("MP_CREDITS_BLOCKS_SUCCESS",t.paymentStatus,u),{type:i.responseTypes.SUCCESS}}));return()=>e()}),[o]),(0,s.useEffect)((()=>{const e=a((e=>{const t=e.processingResponse;return sendMetric("MP_CREDITS_BLOCKS_ERROR",t.paymentStatus,u),{type:i.responseTypes.FAIL,messageContext:i.noticeContexts.PAYMENTS}}));return()=>e()}),[a])})(e);const{test_mode_title:t,test_mode_description:c,test_mode_link_text:i,test_mode_link_src:r,checkout_benefits_title:_,checkout_benefits_items:m,checkout_redirect_title:h,checkout_redirect_description:f,checkout_redirect_src:S,checkout_redirect_alt:g,terms_and_conditions_description:j,terms_and_conditions_link_text:w,terms_and_conditions_link_src:y,test_mode:v,amount:C,message_error_amount:E}=x.params;return null==C?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{className:"alert-message",children:E})}):(0,o.jsxs)("div",{className:"mp-checkout-container",children:[(0,o.jsx)("div",{className:"mp-checkout-credits-container",children:(0,o.jsxs)("div",{className:"mp-checkout-credits-content",children:[v?(0,o.jsx)(a,{title:t,description:c,linkText:i,linkSrc:r}):null,(0,o.jsx)("div",{class:"mp-credits-checkout-benefits",children:(0,o.jsx)(d,{title:_,items:m,titleAlign:"left"})}),(0,o.jsx)("div",{class:"mp-checkout-credits-redirect",children:(0,o.jsx)(l,{title:h,description:f,src:S,alt:g})})]})}),(0,o.jsx)(p,{description:j,linkText:w,linkSrc:y})]})},g={name:k,label:(0,o.jsx)(f,{}),content:(0,o.jsx)(S,{}),edit:(0,o.jsx)(S,{}),canMakePayment:()=>!0,ariaLabel:h,supports:{features:null!==(m=x?.supports)&&void 0!==m?m:[]}};(0,c.registerPaymentMethod)(g)})();