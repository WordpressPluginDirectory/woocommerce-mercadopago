class MPSuperTokenErrorHandler{constructor(r,e){this.paymentMethods=r,this.metrics=e}isExpectedError(r){return MPSuperTokenExpectedErrors.includes(r)}parseError(r){return{code:r?.message||MPSuperTokenErrorCodes.UNKNOWN_ERROR,message:r?.message||r||"Unknown error"}}reportErrorMetric(r,e){!this.isExpectedError(r)&&this.metrics&&this.metrics.errorOnSubmit(r,e)}displayError(r){if(this.paymentMethods)if(r===MPSuperTokenErrorCodes.SELECT_PAYMENT_METHOD_NOT_VALID)this.paymentMethods.forceShowValidationErrors();else{const e=this.paymentMethods.convertErrorCodeToErrorMessage(r);this.paymentMethods.showSuperTokenError(e)}}handleError(r){const{code:e,message:s}=this.parseError(r);return this.reportErrorMetric(e,s),this.displayError(e),e}}