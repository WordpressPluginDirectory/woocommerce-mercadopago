class MPCustomCheckoutHandler{static FORM_SELECTORS={CLASSIC:"form[name=checkout]",BLOCKS:".wc-block-components-form.wc-block-checkout__form"};static FORM_IDS={CLASSIC_CHECKOUT:"checkout",BLOCKS_CHECKOUT:"blocks_checkout_form",PAY_FOR_ORDER:"order_review"};constructor(e,t,o){this.cardForm=e,this.threeDSHandler=t,this.eventHandler=o,this.init()}init(){this.setupFormConfiguration(),this.eventHandler.triggeredPaymentMethodSelectedEvent||jQuery("body").trigger("payment_method_selected"),this.eventHandler.bindEvents()}setupFormConfiguration(){const e=this.getFormConfig();e.element&&(e.element.id=e.formId),this.syncFormIds(e.formId)}getFormConfig(){const e=document.querySelector(MPCustomCheckoutHandler.FORM_SELECTORS.CLASSIC),t=document.querySelector(MPCustomCheckoutHandler.FORM_SELECTORS.BLOCKS);return e?{element:e,formId:MPCustomCheckoutHandler.FORM_IDS.CLASSIC_CHECKOUT}:t?{element:t,formId:MPCustomCheckoutHandler.FORM_IDS.BLOCKS_CHECKOUT}:{element:null,formId:MPCustomCheckoutHandler.FORM_IDS.PAY_FOR_ORDER}}syncFormIds(e){this.eventHandler.mpFormId=e,this.cardForm.mpFormId=e}}document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){const e=new MPCardForm,t=new MPThreeDSHandler,o=new MPEventHandler(e,t),n=new MPCustomCheckoutHandler(e,t,o);window.mpCustomCheckoutHandler=n,window.mpEventHandler=o}),1e3)}));