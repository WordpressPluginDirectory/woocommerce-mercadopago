async function mercadoPagoFormHandlerYape(){if(!document.getElementById("payment_method_woo-mercado-pago-yape").checked)return!0;if(!isFormValid())return!1;const e={otp:getCodeValue(),phoneNumber:document.getElementById("checkout__yapePhoneNumber").value.replaceAll(" ","")};if(!window.mpSdkInstance){const e=new MercadoPago(wc_mercadopago_yape_checkout_params.public_key);window.mpSdkInstance=e}const o=window.mpSdkInstance.yape(e);try{const e=await o.create();return document.getElementById("yapeToken").value=e.id,!0}catch(e){console.error(e)}return!1}const getCodeValue=function(){const e=document.querySelectorAll(".mp-yape-code-input");let o="";return e.forEach((e=>{o+=e.value})),o},getForm=()=>{const e=document.querySelector("form.checkout"),o=document.querySelector("form#order_review");return e||o},isFormValid=()=>{const e=getForm();return!!e&&(document.getElementsByTagName("input-field")[0].validate(),document.getElementsByTagName("input-code")[0].validate(),!Array.from(e.querySelectorAll("input-helper")).some((e=>"none"!==e.querySelector("div").style.display)))};jQuery("form.checkout").on("checkout_place_order_woo-mercado-pago-yape",((e,o)=>{const t=jQuery("#yapeToken");return t.data("fresh")?(t.data("fresh",null),!0):(mercadoPagoFormHandlerYape().then((e=>{e&&(t.data("fresh","true"),o.$checkout_form.trigger("submit"))})),!1)})),jQuery("form#order_review").submit((async function(e){e.preventDefault(),await mercadoPagoFormHandlerYape(),this.submit()}));